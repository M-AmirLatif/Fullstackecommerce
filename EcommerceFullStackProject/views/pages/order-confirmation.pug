extends ../layout

block content
  .container
    .confirmation-container(data-reveal="scale")
      .confirmation-icon âœ…
      h2.confirmation-title= order.payment && order.payment.status === 'succeeded' ? 'Payment Successful!' : 'Order Received!'
      p.confirmation-text= order.payment && order.payment.status === 'succeeded' ? 'Your payment is confirmed and we are preparing shipment.' : 'Your order is created and payment is pending confirmation.'

      .order-details(data-reveal="up" data-reveal-delay="120")
        p
          span Order ID
          strong ##{order._id.toString().slice(-8).toUpperCase()}
        p
          span Status
          strong.text-success #{order.status || 'Processing'}
        p
          span Payment
          strong #{(order.payment && order.payment.status) || 'pending'}
        p
          span Order Date
          strong #{new Date(order.createdAt).toLocaleDateString()}
        p
          span Total Amount
          strong.text-primary $#{(order.totalAmount || 0).toFixed(2)}

      .card(style="background: var(--surface-strong); margin: 2rem 0;" data-reveal="up")
        h3(style="margin-top: 0;") Order Items
        each item in order.items
          .summary-item(style="padding: 0.75rem 0;")
            span #{item.name} Ã— #{item.quantity}
            span $#{((item.price || 0) * item.quantity).toFixed(2)}

      .card(style="background: var(--surface-strong); border-left: 4px solid var(--success); margin: 2rem 0;" data-reveal="up")
        p(style="margin: 0; color: var(--text);")
          | ğŸ“§ We'll email your receipt if notifications are enabled.
          br
          | ğŸ“ You will receive shipping details shortly.
          br
          | ğŸšš Estimated delivery: 3-5 business days.

      .action-buttons(style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem; flex-wrap: wrap;" data-reveal="up")
        a.btn(href="/") ğŸ  Return to Home
        a.btn.btn-secondary(href="/shop") ğŸ›ï¸ Continue Shopping
        a.btn.btn-outline(href="/cart") ğŸ›’ View Cart
